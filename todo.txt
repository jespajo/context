Change order of alloc etc. arguments

Rename alloc -> alloc_ etc. and create externally linked versions that assert they have a non-null context

Cleanup assert_context_makes_sense()

Just have DEBUG/NDEBUG, not both
